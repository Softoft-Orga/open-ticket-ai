---
import { getCollection } from 'astro:content';
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Card from '../../../components/vue/core/basic/Card.vue';

const title = 'Legal Notice - Open Ticket AI';
const description = 'Legal information and company details for Open Ticket AI';

const currentLocale = Astro.currentLocale.toLowerCase();
const allSiteConfigs = await getCollection('site');
const siteConfig = allSiteConfigs.find(entry =>
  entry.id.toLowerCase().startsWith(`${currentLocale}/`)
);

const legalInfo = siteConfig?.data.legalInfo;

if (!legalInfo) {
  throw new Error('Legal information not found in site configuration');
}
---

<BaseLayout title={title} description={description}>
  <div class="min-h-screen bg-background-dark pb-32">
    <section class="relative pb-20 pt-24">
      <div class="mx-auto max-w-4xl px-6">
        <h1
          class="mb-8 text-5xl font-black leading-tight tracking-tight text-white sm:text-6xl lg:text-7xl"
        >
          Legal Notice
        </h1>
        <p class="text-lg text-slate-400">
          Information according to § 5 TMG (German Telemedia Act)
        </p>
      </div>
    </section>

    <section class="mx-auto max-w-4xl px-6">
      <Card variant="surface" tone="neutral" size="lg" radius="2xl" client:load>
        <div class="space-y-8">
          <div>
            <h2 class="mb-3 text-sm font-bold uppercase tracking-widest text-slate-500">
              Company Name
            </h2>
            <p class="text-xl font-semibold text-white">{legalInfo.companyName}</p>
          </div>

          <div>
            <h2 class="mb-3 text-sm font-bold uppercase tracking-widest text-slate-500">
              Legal Form
            </h2>
            <p class="text-lg text-slate-300">{legalInfo.legalForm}</p>
          </div>

          <div>
            <h2 class="mb-3 text-sm font-bold uppercase tracking-widest text-slate-500">
              Managing Director
            </h2>
            <p class="text-lg text-slate-300">{legalInfo.ceo}</p>
          </div>

          <div>
            <h2 class="mb-3 text-sm font-bold uppercase tracking-widest text-slate-500">
              Registered Office
            </h2>
            <p class="text-lg text-slate-300">
              {legalInfo.address.street}<br />
              {legalInfo.address.zip}
              {legalInfo.address.city}<br />
              {legalInfo.address.country}
            </p>
          </div>

          <div>
            <h2 class="mb-3 text-sm font-bold uppercase tracking-widest text-slate-500">
              Commercial Register
            </h2>
            <p class="text-lg text-slate-300">{legalInfo.registerInfo}</p>
          </div>

          <div>
            <h2 class="mb-3 text-sm font-bold uppercase tracking-widest text-slate-500">
              VAT Identification Number
            </h2>
            <p class="text-lg text-slate-300">{legalInfo.vatId}</p>
          </div>

          <div>
            <h2 class="mb-3 text-sm font-bold uppercase tracking-widest text-slate-500">
              Contact Information
            </h2>
            <p class="text-lg text-slate-300">
              Email: <a href={`mailto:${legalInfo.email}`} class="text-primary hover:underline"
                >{legalInfo.email}</a
              ><br />
              Phone: <a href={`tel:${legalInfo.phone}`} class="text-primary hover:underline"
                >{legalInfo.phone}</a
              >
            </p>
          </div>

          <div class="border-t border-slate-700 pt-8">
            <h2 class="mb-4 text-xl font-bold text-white">
              Responsible for Content (According to § 55 Abs. 2 RStV)
            </h2>
            <p class="text-lg text-slate-300">
              {legalInfo.ceo}<br />
              {legalInfo.address.street}<br />
              {legalInfo.address.zip}
              {legalInfo.address.city}<br />
              {legalInfo.address.country}
            </p>
          </div>

          <div class="border-t border-slate-700 pt-8">
            <h2 class="mb-4 text-xl font-bold text-white">Disclaimer</h2>
            <div class="space-y-4 text-slate-400">
              <div>
                <h3 class="mb-2 font-semibold text-slate-300">Liability for Content</h3>
                <p class="text-sm leading-relaxed">
                  The contents of our pages were created with the greatest care. However, we cannot
                  guarantee the accuracy, completeness, and timeliness of the content. As a service
                  provider, we are responsible for our own content on these pages in accordance with
                  general legislation pursuant to § 7 para.1 TMG. According to §§ 8 to 10 TMG, we
                  are not obligated to monitor transmitted or stored third-party information or to
                  investigate circumstances that indicate illegal activity. Obligations to remove or
                  block the use of information under general law remain unaffected.
                </p>
              </div>

              <div>
                <h3 class="mb-2 font-semibold text-slate-300">Liability for Links</h3>
                <p class="text-sm leading-relaxed">
                  Our offer contains links to external websites of third parties, on whose contents
                  we have no influence. Therefore, we cannot assume any liability for these external
                  contents. The respective provider or operator of the pages is always responsible
                  for the content of the linked pages. The linked pages were checked for possible
                  legal violations at the time of linking. Illegal contents were not recognizable at
                  the time of linking.
                </p>
              </div>

              <div>
                <h3 class="mb-2 font-semibold text-slate-300">Copyright</h3>
                <p class="text-sm leading-relaxed">
                  The content and works created by the site operators on these pages are subject to
                  German copyright law. Duplication, processing, distribution, or any form of
                  commercialization of such material beyond the scope of the copyright law shall
                  require the prior written consent of its respective author or creator. Downloads
                  and copies of this site are only permitted for private, non-commercial use.
                </p>
              </div>
            </div>
          </div>
        </div>
      </Card>
    </section>
  </div>
</BaseLayout>
