---
import { getCollection } from 'astro:content';
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Card from '../../../components/vue/core/basic/Card.vue';
import Badge from '../../../components/vue/core/basic/Badge.vue';
import {
  BuildingOfficeIcon,
  EnvelopeIcon,
  PhoneIcon,
  MapPinIcon,
  UserGroupIcon,
  SparklesIcon,
} from '@heroicons/vue/24/outline';

const title = 'About Us - Open Ticket AI';
const description = 'Learn about Open Ticket AI, our team, and our mission';

const currentLocale = (Astro.currentLocale || 'en').toLowerCase();
const allSiteConfigs = await getCollection('site');
const siteConfig = allSiteConfigs.find(entry =>
  entry.id.toLowerCase().startsWith(`${currentLocale}/`)
);

const meta = siteConfig?.data.meta;
const legalInfo = siteConfig?.data.legalInfo;
const team = siteConfig?.data.team || [];
---

<BaseLayout title={title} description={description}>
  <div class="min-h-screen bg-background-dark pb-32">
    <!-- Hero Section -->
    <section class="relative overflow-hidden pb-16 pt-32">
      <div class="relative mx-auto max-w-4xl px-6">
        <div class="mb-6 text-center">
          <Badge variant="subtle" tone="primary" size="sm" client:load>
            <span class="flex items-center gap-2">
              <SparklesIcon class="h-3 w-3" aria-hidden="true" />
              About Us
            </span>
          </Badge>
        </div>

        <div class="flex flex-col items-center gap-6 text-center">
          {
            meta?.logoUrl && (
              <img
                src={meta.logoUrl}
                alt={`${meta.siteName} Logo`}
                class="h-32 w-32 drop-shadow-2xl"
              />
            )
          }

          <h1 class="text-5xl font-black tracking-tight text-white md:text-6xl">
            {meta?.siteName}
          </h1>
          <p class="max-w-2xl text-lg leading-relaxed text-slate-400">
            {meta?.tagline}
          </p>
        </div>
      </div>
    </section>

    <!-- Company Information Section -->
    {
      legalInfo && (
        <section class="mx-auto mb-20 max-w-5xl px-6">
          <div class="mb-12 text-center">
            <h2 class="mb-4 text-4xl font-bold text-white">Company Information</h2>
            <p class="text-base text-slate-400">
              Building the future of intelligent helpdesk automation with German engineering
              precision.
            </p>
          </div>

          <div class="grid grid-cols-1 gap-6 lg:grid-cols-2">
            <Card
              variant="surface"
              tone="neutral"
              size="md"
              radius="xl"
              class="border-primary/10 bg-gradient-to-br from-purple-900/20 to-purple-950/10"
              client:load
            >
              <div class="space-y-4">
                <div class="mb-6 flex items-center gap-3">
                  <div class="rounded-lg bg-primary/20 p-2">
                    <BuildingOfficeIcon class="h-5 w-5 text-primary" aria-hidden="true" />
                  </div>
                  <h3 class="text-lg font-bold text-white">Legal Information</h3>
                </div>

                <div class="space-y-3">
                  <div>
                    <div class="text-xs font-bold uppercase tracking-wider text-slate-500">
                      Company Name
                    </div>
                    <div class="text-sm text-slate-200">{legalInfo.companyName}</div>
                  </div>

                  <div>
                    <div class="text-xs font-bold uppercase tracking-wider text-slate-500">
                      Legal Form
                    </div>
                    <div class="text-sm text-slate-200">{legalInfo.legalForm}</div>
                  </div>

                  <div>
                    <div class="text-xs font-bold uppercase tracking-wider text-slate-500">CEO</div>
                    <div class="text-sm text-slate-200">{legalInfo.ceo}</div>
                  </div>

                  {legalInfo.vatId && (
                    <div>
                      <div class="text-xs font-bold uppercase tracking-wider text-slate-500">
                        VAT ID
                      </div>
                      <div class="text-sm text-slate-200">{legalInfo.vatId}</div>
                    </div>
                  )}

                  {legalInfo.registerInfo && (
                    <div>
                      <div class="text-xs font-bold uppercase tracking-wider text-slate-500">
                        Register
                      </div>
                      <div class="text-sm text-slate-200">{legalInfo.registerInfo}</div>
                    </div>
                  )}
                </div>
              </div>
            </Card>

            <Card
              variant="surface"
              tone="neutral"
              size="md"
              radius="xl"
              class="border-primary/10 bg-gradient-to-br from-purple-900/20 to-purple-950/10"
              client:load
            >
              <div class="space-y-4">
                <div class="mb-6 flex items-center gap-3">
                  <div class="rounded-lg bg-primary/20 p-2">
                    <EnvelopeIcon class="h-5 w-5 text-primary" aria-hidden="true" />
                  </div>
                  <h3 class="text-lg font-bold text-white">Contact Information</h3>
                </div>

                <div class="space-y-3">
                  <div class="flex items-start gap-3">
                    <MapPinIcon class="mt-0.5 h-4 w-4 text-primary" aria-hidden="true" />
                    <div class="flex-1">
                      <div class="text-xs font-bold uppercase tracking-wider text-slate-500">
                        Address
                      </div>
                      <div class="text-sm text-slate-200">
                        {legalInfo.address.street}
                        <br />
                        {legalInfo.address.zip} {legalInfo.address.city}
                        <br />
                        {legalInfo.address.country}
                      </div>
                    </div>
                  </div>

                  <div class="flex items-start gap-3">
                    <EnvelopeIcon class="mt-0.5 h-4 w-4 text-primary" aria-hidden="true" />
                    <div class="flex-1">
                      <div class="text-xs font-bold uppercase tracking-wider text-slate-500">
                        Email
                      </div>
                      <a
                        href={`mailto:${legalInfo.email}`}
                        class="text-sm text-primary hover:underline"
                      >
                        {legalInfo.email}
                      </a>
                    </div>
                  </div>

                  <div class="flex items-start gap-3">
                    <PhoneIcon class="mt-0.5 h-4 w-4 text-primary" aria-hidden="true" />
                    <div class="flex-1">
                      <div class="text-xs font-bold uppercase tracking-wider text-slate-500">
                        Phone
                      </div>
                      <a href={`tel:${legalInfo.phone}`} class="text-sm text-primary hover:underline">
                        {legalInfo.phone}
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </Card>
          </div>
        </section>
      )
    }

    <!-- Team Section -->
    {
      team.length > 0 && (
        <section class="mx-auto mb-20 max-w-5xl px-6">
          <div class="mb-12 text-center">
            <div class="mb-4">
              <Badge variant="subtle" tone="success" size="sm" client:load>
                <span class="flex items-center gap-2">
                  <UserGroupIcon class="h-3 w-3" aria-hidden="true" />
                  Our Team
                </span>
              </Badge>
            </div>
            <h2 class="mb-4 text-4xl font-bold text-white">Meet Our Team</h2>
            <p class="text-base text-slate-400">
              The people behind the innovation, dedicated to transforming helpdesk automation.
            </p>
          </div>

          <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
            {team.map(member => (
              <Card
                variant="surface"
                tone="neutral"
                size="md"
                radius="xl"
                class="border-primary/10 bg-gradient-to-br from-purple-900/20 to-purple-950/10"
                client:load
              >
                <div class="flex flex-col items-center text-center">
                  {member.pictureUrl && (
                    <div class="mb-4 overflow-hidden rounded-full border-2 border-primary/30">
                      <img
                        src={member.pictureUrl}
                        alt={member.name || 'Team Member'}
                        class="h-24 w-24 object-cover"
                      />
                    </div>
                  )}

                  <div class="mb-4">
                    {member.name && <h3 class="mb-1 text-lg font-bold text-white">{member.name}</h3>}
                    {member.role && (
                      <p class="text-sm font-medium text-primary">{member.role}</p>
                    )}
                  </div>

                  {(member.email || member.phoneNumber) && (
                    <div class="w-full space-y-2 border-t border-slate-700/50 pt-4">
                      {member.email && (
                        <div class="flex items-center justify-center gap-2 text-xs text-slate-400">
                          <EnvelopeIcon class="h-3.5 w-3.5 text-primary" aria-hidden="true" />
                          <a
                            href={`mailto:${member.email}`}
                            class="transition-colors hover:text-primary"
                          >
                            {member.email}
                          </a>
                        </div>
                      )}
                      {member.phoneNumber && (
                        <div class="flex items-center justify-center gap-2 text-xs text-slate-400">
                          <PhoneIcon class="h-3.5 w-3.5 text-primary" aria-hidden="true" />
                          <a
                            href={`tel:${member.phoneNumber}`}
                            class="transition-colors hover:text-primary"
                          >
                            {member.phoneNumber}
                          </a>
                        </div>
                      )}
                    </div>
                  )}
                </div>
              </Card>
            ))}
          </div>
        </section>
      )
    }

    <!-- Mission Statement Section -->
    <section class="mx-auto mb-20 max-w-5xl px-6">
      <Card
        variant="surface"
        tone="neutral"
        size="lg"
        radius="2xl"
        class="border-primary/10 bg-gradient-to-br from-purple-900/30 to-purple-950/20"
        client:load
      >
        <div class="py-8 text-center">
          <div
            class="mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-purple-600"
          >
            <SparklesIcon class="h-8 w-8 text-white" aria-hidden="true" />
          </div>

          <h2 class="mb-6 text-3xl font-bold text-white">Our Mission</h2>
          <p class="mx-auto max-w-2xl text-base leading-relaxed text-slate-300">
            We believe in the power of intelligent automation to transform how organizations handle
            support requests. Our mission is to provide enterprise-grade AI solutions that are
            transparent, secure, and built with German engineering precision. We're committed to
            helping teams work smarter, not harder, by automating the mundane and empowering people
            to focus on what truly matters.
          </p>
        </div>
      </Card>
    </section>
  </div>
</BaseLayout>
