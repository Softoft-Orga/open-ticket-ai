---
const { pathname } = Astro.url;

const navItems = [
  { href: '/products/', label: 'Products' },
  { href: '/services/', label: 'Services' },
  { href: '/blog/', label: 'Blog' },
  { href: '/docs/', label: 'Docs' },
];

const isActive = (href: string) => pathname === href || pathname.startsWith(`${href}/`);
---

<header class="sticky top-0 z-50 w-full border-b border-surface-lighter bg-background-dark/80 backdrop-blur-md">
  <div class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8">
    <a href="/" class="flex items-center gap-2 text-white group">
      <div class="flex size-8 items-center justify-center rounded-lg bg-primary/20 text-primary transition-all group-hover:shadow-[0_0_15px_rgba(166,13,242,0.5)]">
        <span class="material-symbols-outlined text-2xl">confirmation_number</span>
      </div>
      <h2 class="font-display text-lg font-bold tracking-tight">Open Ticket AI</h2>
    </a>
    <nav class="hidden md:flex flex-1 justify-center gap-8">
      {navItems.map((item) => (
        <a
          href={item.href}
          class={`text-sm font-medium transition-colors ${isActive(item.href) ? 'text-white' : 'text-gray-400 hover:text-white'}`}
          aria-current={isActive(item.href) ? 'page' : undefined}
        >
          {item.label}
        </a>
      ))}
    </nav>
    <div class="flex items-center gap-4">
      <button class="hidden sm:flex h-9 items-center justify-center rounded-lg bg-surface-lighter px-4 text-sm font-bold text-white transition-colors hover:bg-surface-lighter/80 border border-primary/20">
        Login
      </button>
      <button class="flex h-9 items-center justify-center rounded-lg bg-primary px-4 text-sm font-bold text-white shadow-[0_0_15px_rgba(166,13,242,0.3)] transition-all hover:bg-primary-dark">
        Get Demo
      </button>
    </div>
  </div>
</header>

