{
  "$defs": {
    "ConcurrencySettings": {
      "properties": {
        "max_workers": {
          "default": 1,
          "minimum": 1,
          "title": "Max Workers",
          "type": "integer"
        },
        "when_exhausted": {
          "default": "wait",
          "title": "When Exhausted",
          "type": "string"
        }
      },
      "title": "ConcurrencySettings",
      "type": "object"
    },
    "FilterConfig": {
      "additionalProperties": true,
      "properties": {
        "class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Class"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        },
        "()": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "()"
        }
      },
      "title": "FilterConfig",
      "type": "object"
    },
    "FormatterConfig": {
      "additionalProperties": true,
      "properties": {
        "class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Class"
        },
        "format": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Format"
        },
        "datefmt": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Datefmt"
        },
        "style": {
          "anyOf": [
            {
              "enum": [
                "%",
                "{",
                "$"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Style"
        },
        "()": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "()"
        }
      },
      "title": "FormatterConfig",
      "type": "object"
    },
    "HandlerConfig": {
      "additionalProperties": true,
      "properties": {
        "class": {
          "title": "Class",
          "type": "string"
        },
        "level": {
          "anyOf": [
            {
              "enum": [
                "NOTSET",
                "DEBUG",
                "INFO",
                "WARNING",
                "ERROR",
                "CRITICAL"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Level"
        },
        "formatter": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Formatter"
        },
        "filters": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Filters"
        },
        "()": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "()"
        }
      },
      "required": [
        "class"
      ],
      "title": "HandlerConfig",
      "type": "object"
    },
    "InfrastructureConfig": {
      "additionalProperties": true,
      "properties": {
        "logging": {
          "$ref": "#/$defs/LoggingDictConfig"
        },
        "template_renderer_config": {
          "$ref": "#/$defs/TemplateRendererConfig",
          "description": "(Deprecated) in future versions will be set through the services section"
        }
      },
      "title": "InfrastructureConfig",
      "type": "object"
    },
    "LoggerConfig": {
      "additionalProperties": true,
      "properties": {
        "level": {
          "anyOf": [
            {
              "enum": [
                "NOTSET",
                "DEBUG",
                "INFO",
                "WARNING",
                "ERROR",
                "CRITICAL"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Level"
        },
        "handlers": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Handlers"
        },
        "propagate": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Propagate"
        },
        "filters": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Filters"
        }
      },
      "title": "LoggerConfig",
      "type": "object"
    },
    "LoggingDictConfig": {
      "additionalProperties": true,
      "properties": {
        "version": {
          "const": 1,
          "default": 1,
          "title": "Version",
          "type": "integer"
        },
        "disable_existing_loggers": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Disable Existing Loggers"
        },
        "incremental": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Incremental"
        },
        "root": {
          "anyOf": [
            {
              "$ref": "#/$defs/RootConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "loggers": {
          "additionalProperties": {
            "$ref": "#/$defs/LoggerConfig"
          },
          "title": "Loggers",
          "type": "object"
        },
        "handlers": {
          "additionalProperties": {
            "$ref": "#/$defs/HandlerConfig"
          },
          "title": "Handlers",
          "type": "object"
        },
        "formatters": {
          "additionalProperties": {
            "$ref": "#/$defs/FormatterConfig"
          },
          "title": "Formatters",
          "type": "object"
        },
        "filters": {
          "additionalProperties": {
            "$ref": "#/$defs/FilterConfig"
          },
          "title": "Filters",
          "type": "object"
        }
      },
      "title": "LoggingDictConfig",
      "type": "object"
    },
    "OrchestratorConfig": {
      "additionalProperties": true,
      "properties": {
        "defaults": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Defaults"
        },
        "runners": {
          "items": {
            "$ref": "#/$defs/RunnerDefinition"
          },
          "title": "Runners",
          "type": "array"
        }
      },
      "title": "OrchestratorConfig",
      "type": "object"
    },
    "PipeConfig": {
      "additionalProperties": true,
      "properties": {
        "uid": {
          "title": "Uid",
          "type": "string"
        },
        "id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Id"
        },
        "use": {
          "default": "open_ticket_ai.base.CompositePipe",
          "title": "Use",
          "type": "string"
        },
        "injects": {
          "additionalProperties": {
            "type": "string"
          },
          "title": "Injects",
          "type": "object"
        },
        "params": {
          "title": "Params"
        },
        "if": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "boolean"
            }
          ],
          "default": "True",
          "title": "If"
        },
        "depends_on": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          ],
          "default": [],
          "title": "Depends On"
        },
        "steps": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Steps"
        }
      },
      "title": "PipeConfig",
      "type": "object"
    },
    "RawOpenTicketAIConfig": {
      "properties": {
        "plugins": {
          "items": {
            "type": "string"
          },
          "title": "Plugins",
          "type": "array"
        },
        "infrastructure": {
          "$ref": "#/$defs/InfrastructureConfig"
        },
        "services": {
          "items": {
            "$ref": "#/$defs/RenderableConfig"
          },
          "title": "Services",
          "type": "array"
        },
        "orchestrator": {
          "$ref": "#/$defs/OrchestratorConfig"
        }
      },
      "title": "RawOpenTicketAIConfig",
      "type": "object"
    },
    "RenderableConfig": {
      "additionalProperties": true,
      "properties": {
        "uid": {
          "title": "Uid",
          "type": "string"
        },
        "id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Id"
        },
        "use": {
          "default": "open_ticket_ai.base.CompositePipe",
          "title": "Use",
          "type": "string"
        },
        "injects": {
          "additionalProperties": {
            "type": "string"
          },
          "title": "Injects",
          "type": "object"
        },
        "params": {
          "title": "Params"
        }
      },
      "title": "RenderableConfig",
      "type": "object"
    },
    "RetrySettings": {
      "properties": {
        "attempts": {
          "default": 3,
          "minimum": 1,
          "title": "Attempts",
          "type": "integer"
        },
        "delay": {
          "default": "5s",
          "title": "Delay",
          "type": "string"
        },
        "backoff_factor": {
          "default": 2.0,
          "minimum": 1.0,
          "title": "Backoff Factor",
          "type": "number"
        },
        "max_delay": {
          "default": "30s",
          "title": "Max Delay",
          "type": "string"
        },
        "jitter": {
          "default": true,
          "title": "Jitter",
          "type": "boolean"
        }
      },
      "title": "RetrySettings",
      "type": "object"
    },
    "RootConfig": {
      "additionalProperties": true,
      "properties": {
        "level": {
          "anyOf": [
            {
              "enum": [
                "NOTSET",
                "DEBUG",
                "INFO",
                "WARNING",
                "ERROR",
                "CRITICAL"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Level"
        },
        "handlers": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Handlers"
        },
        "filters": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Filters"
        }
      },
      "title": "RootConfig",
      "type": "object"
    },
    "RunnerDefinition": {
      "properties": {
        "id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Id"
        },
        "on": {
          "items": {
            "$ref": "#/$defs/TriggerDefinition"
          },
          "title": "On",
          "type": "array"
        },
        "run": {
          "$ref": "#/$defs/PipeConfig"
        },
        "params": {
          "$ref": "#/$defs/RunnerParams"
        }
      },
      "required": [
        "run"
      ],
      "title": "RunnerDefinition",
      "type": "object"
    },
    "RunnerParams": {
      "properties": {
        "concurrency": {
          "anyOf": [
            {
              "$ref": "#/$defs/ConcurrencySettings"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "retry": {
          "anyOf": [
            {
              "$ref": "#/$defs/RetrySettings"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "timeout": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Timeout"
        },
        "retry_scope": {
          "default": "pipeline",
          "title": "Retry Scope",
          "type": "string"
        },
        "priority": {
          "default": 10,
          "title": "Priority",
          "type": "integer"
        }
      },
      "title": "RunnerParams",
      "type": "object"
    },
    "TemplateRendererConfig": {
      "additionalProperties": true,
      "properties": {
        "type": {
          "description": "Type of template renderer",
          "title": "Type",
          "type": "string"
        },
        "env_config": {
          "$ref": "#/$defs/TemplateRendererEnvConfig",
          "description": "Environment variable configuration"
        }
      },
      "required": [
        "type"
      ],
      "title": "TemplateRendererConfig",
      "type": "object"
    },
    "TemplateRendererEnvConfig": {
      "properties": {
        "prefix": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "OTAI_",
          "description": "Primary environment variable prefix",
          "title": "Prefix"
        },
        "allowlist": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Allowed environment variable names",
          "title": "Allowlist"
        },
        "denylist": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Denied environment variable names",
          "title": "Denylist"
        }
      },
      "title": "TemplateRendererEnvConfig",
      "type": "object"
    },
    "TriggerDefinition": {
      "additionalProperties": true,
      "properties": {
        "uid": {
          "title": "Uid",
          "type": "string"
        },
        "id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Id"
        },
        "use": {
          "default": "open_ticket_ai.base.CompositePipe",
          "title": "Use",
          "type": "string"
        },
        "injects": {
          "additionalProperties": {
            "type": "string"
          },
          "title": "Injects",
          "type": "object"
        },
        "params": {
          "title": "Params"
        }
      },
      "title": "TriggerDefinition",
      "type": "object"
    }
  },
  "properties": {
    "open_ticket_ai": {
      "$ref": "#/$defs/RawOpenTicketAIConfig"
    }
  },
  "required": [
    "open_ticket_ai"
  ],
  "title": "RootConfig",
  "type": "object"
}